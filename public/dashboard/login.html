<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login | Baba Banarasi - Varanasi Scooter Darshan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Login to your Baba Banarasi account to manage your Varanasi darshan bookings" />
  <meta name="theme-color" content="#EA580C" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›•</text></svg>">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Devanagari:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      BASE STYLES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #EA580C;
      --primary-dark: #C2410C;
      --primary-light: #FDBA74;
      --primary-50: #FFF7ED;
      --success: #16A34A;
      --success-bg: #F0FDF4;
      --error: #DC2626;
      --error-bg: #FEF2F2;
      --warning: #D97706;
      --warning-bg: #FFFBEB;
      --info: #2563EB;
      --info-bg: #EFF6FF;
      --gray-50: #F9FAFB;
      --gray-100: #F3F4F6;
      --gray-200: #E5E7EB;
      --gray-300: #D1D5DB;
      --gray-400: #9CA3AF;
      --gray-500: #6B7280;
      --gray-600: #4B5563;
      --gray-700: #374151;
      --gray-800: #1F2937;
      --gray-900: #111827;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      --radius: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
    }

    body {
      font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #FFF7ED 0%, #FFEDD5 50%, #FED7AA 100%);
      min-height: 100vh;
      display: flex;
      line-height: 1.6;
      color: var(--gray-800);
      -webkit-font-smoothing: antialiased;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      BACKGROUND DECORATIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .bg-decoration {
      position: fixed;
      pointer-events: none;
      z-index: 0;
    }

    .bg-circle-1 {
      top: -150px;
      right: -150px;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(234, 88, 12, 0.12) 0%, transparent 70%);
      border-radius: 50%;
    }

    .bg-circle-2 {
      bottom: -200px;
      left: -200px;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(234, 88, 12, 0.08) 0%, transparent 70%);
      border-radius: 50%;
    }

    .bg-pattern {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23EA580C' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      LEFT BRAND PANEL (Desktop Only)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .brand-panel {
      display: none;
      width: 50%;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      padding: 60px;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 1024px) {
      .brand-panel {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
    }

    .brand-panel::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90' opacity='0.05'%3EğŸ•‰ï¸%3C/text%3E%3C/svg%3E");
      background-size: 200px;
      opacity: 0.4;
    }

    .brand-content {
      position: relative;
      z-index: 1;
      color: white;
    }

    .brand-logo {
      font-size: 4rem;
      margin-bottom: 20px;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
    }

    .brand-title {
      font-family: 'Noto Sans Devanagari', 'Poppins', sans-serif;
      font-size: 2.75rem;
      font-weight: 700;
      margin-bottom: 8px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .brand-subtitle {
      font-size: 1.2rem;
      opacity: 0.95;
      margin-bottom: 50px;
      font-weight: 300;
    }

    .brand-features {
      list-style: none;
    }

    .brand-features li {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 0;
      font-size: 1rem;
      opacity: 0.95;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .brand-features li:last-child {
      border-bottom: none;
    }

    .brand-features li span {
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.15);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .brand-testimonial {
      margin-top: 50px;
      padding: 28px;
      background: rgba(255, 255, 255, 0.12);
      border-radius: var(--radius-lg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .brand-testimonial p {
      font-style: italic;
      line-height: 1.7;
      margin-bottom: 18px;
      font-size: 0.95rem;
    }

    .brand-testimonial .author {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .brand-testimonial .avatar {
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
    }

    .brand-testimonial .author-info {
      font-size: 0.9rem;
    }

    .brand-testimonial .author-name {
      font-weight: 600;
    }

    .brand-testimonial .author-title {
      opacity: 0.75;
      font-size: 0.8rem;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      RIGHT FORM PANEL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .form-panel {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      position: relative;
      z-index: 1;
    }

    .login-container {
      width: 100%;
      max-width: 450px;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      MOBILE HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .mobile-header {
      text-align: center;
      margin-bottom: 30px;
    }

    @media (min-width: 1024px) {
      .mobile-header {
        display: none;
      }
    }

    .mobile-header .logo {
      font-size: 3.5rem;
      margin-bottom: 10px;
    }

    .mobile-header h1 {
      font-family: 'Noto Sans Devanagari', 'Poppins', sans-serif;
      font-size: 1.85rem;
      color: var(--primary);
      font-weight: 700;
    }

    .mobile-header p {
      color: var(--gray-600);
      font-size: 0.9rem;
      margin-top: 4px;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      CARD
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .card {
      background: white;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
      overflow: hidden;
    }

    .card-body {
      padding: 40px;
    }

    @media (max-width: 480px) {
      .card-body {
        padding: 32px 24px;
      }
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      FORM HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .form-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .form-header h2 {
      font-size: 1.75rem;
      font-weight: 600;
      color: var(--gray-900);
      margin-bottom: 8px;
    }

    .form-header p {
      color: var(--gray-500);
      font-size: 0.95rem;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      ALERTS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .alert {
      display: none;
      align-items: flex-start;
      gap: 12px;
      padding: 16px;
      border-radius: var(--radius);
      margin-bottom: 20px;
      font-size: 0.9rem;
      line-height: 1.5;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .alert.visible {
      display: flex;
    }

    .alert svg {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .alert-error {
      background: var(--error-bg);
      border: 1px solid #FECACA;
      color: var(--error);
    }

    .alert-success {
      background: var(--success-bg);
      border: 1px solid #BBF7D0;
      color: var(--success);
    }

    .alert-info {
      background: var(--info-bg);
      border: 1px solid #BFDBFE;
      color: var(--info);
    }

    .alert-warning {
      background: var(--warning-bg);
      border: 1px solid #FDE68A;
      color: var(--warning);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      SOCIAL LOGIN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .social-login {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }

    .social-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 20px;
      border: 1.5px solid var(--gray-200);
      border-radius: var(--radius);
      background: white;
      color: var(--gray-700);
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .social-btn:hover {
      border-color: var(--gray-300);
      background: var(--gray-50);
      transform: translateY(-1px);
      box-shadow: var(--shadow);
    }

    .social-btn:active {
      transform: translateY(0);
    }

    .social-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .social-btn svg {
      width: 20px;
      height: 20px;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      DIVIDER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .divider {
      display: flex;
      align-items: center;
      gap: 16px;
      margin: 24px 0;
      color: var(--gray-400);
      font-size: 0.85rem;
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--gray-200);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      FORM ELEMENTS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--gray-700);
    }

    .input-wrapper {
      position: relative;
    }

    .input-wrapper .icon {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-400);
      pointer-events: none;
      transition: color 0.2s;
    }

    .input-wrapper input {
      width: 100%;
      padding: 14px 16px 14px 48px;
      border: 1.5px solid var(--gray-200);
      border-radius: var(--radius);
      font-size: 1rem;
      font-family: inherit;
      color: var(--gray-900);
      background: white;
      transition: all 0.2s ease;
    }

    .input-wrapper input::placeholder {
      color: var(--gray-400);
    }

    .input-wrapper input:hover {
      border-color: var(--gray-300);
    }

    .input-wrapper input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(234, 88, 12, 0.1);
    }

    .input-wrapper input:focus + .icon,
    .input-wrapper input:focus ~ .icon {
      color: var(--primary);
    }

    .input-wrapper.error input {
      border-color: var(--error);
      background: var(--error-bg);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      PASSWORD TOGGLE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .password-toggle {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--gray-400);
      cursor: pointer;
      padding: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.2s;
    }

    .password-toggle:hover {
      color: var(--gray-600);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      PASSWORD STRENGTH
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .password-strength {
      margin-top: 10px;
      display: none;
    }

    .password-strength.visible {
      display: block;
    }

    .strength-bar {
      height: 4px;
      background: var(--gray-200);
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 6px;
    }

    .strength-fill {
      height: 100%;
      width: 0%;
      transition: all 0.3s ease;
      border-radius: 2px;
    }

    .strength-fill.weak {
      width: 33%;
      background: var(--error);
    }

    .strength-fill.medium {
      width: 66%;
      background: var(--warning);
    }

    .strength-fill.strong {
      width: 100%;
      background: var(--success);
    }

    .strength-text {
      font-size: 0.75rem;
      color: var(--gray-500);
    }

    .strength-text.weak {
      color: var(--error);
    }

    .strength-text.medium {
      color: var(--warning);
    }

    .strength-text.strong {
      color: var(--success);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      CHECKBOX & OPTIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .form-options {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .checkbox-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .checkbox-wrapper input[type="checkbox"] {
      display: none;
    }

    .checkbox-custom {
      width: 20px;
      height: 20px;
      border: 2px solid var(--gray-300);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .checkbox-custom svg {
      width: 12px;
      height: 12px;
      color: white;
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.2s ease;
    }

    .checkbox-wrapper input:checked + .checkbox-custom {
      background: var(--primary);
      border-color: var(--primary);
    }

    .checkbox-wrapper input:checked + .checkbox-custom svg {
      opacity: 1;
      transform: scale(1);
    }

    .checkbox-label {
      font-size: 0.9rem;
      color: var(--gray-600);
    }

    .forgot-link {
      font-size: 0.9rem;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }

    .forgot-link:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      HIDDEN FIELDS (Name, Phone, Terms)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .name-field,
    .phone-field,
    .terms-field {
      display: none;
    }

    .name-field.visible,
    .phone-field.visible,
    .terms-field.visible {
      display: block;
    }

    .terms-field {
      margin-bottom: 20px;
    }

    .terms-field .checkbox-label {
      font-size: 0.85rem;
    }

    .terms-field a {
      color: var(--primary);
      text-decoration: none;
    }

    .terms-field a:hover {
      text-decoration: underline;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      PHONE INPUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .phone-wrapper {
      display: flex;
      gap: 10px;
    }

    .country-code {
      width: 100px;
      padding: 14px 12px;
      border: 1.5px solid var(--gray-200);
      border-radius: var(--radius);
      font-size: 0.95rem;
      color: var(--gray-700);
      background: var(--gray-50);
      cursor: pointer;
      font-family: inherit;
      transition: border-color 0.2s;
    }

    .country-code:focus {
      outline: none;
      border-color: var(--primary);
    }

    .phone-wrapper input {
      flex: 1;
      padding: 14px 16px;
      border: 1.5px solid var(--gray-200);
      border-radius: var(--radius);
      font-size: 1rem;
      font-family: inherit;
      color: var(--gray-900);
      transition: all 0.2s;
    }

    .phone-wrapper input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(234, 88, 12, 0.1);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      SUBMIT BUTTON
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .submit-btn {
      width: 100%;
      padding: 16px 24px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      border: none;
      border-radius: var(--radius);
      font-size: 1rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s ease;
    }

    .submit-btn:hover::before {
      left: 100%;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(234, 88, 12, 0.35);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .submit-btn:disabled {
      background: var(--gray-300);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .submit-btn:disabled::before {
      display: none;
    }

    .btn-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .btn-spinner {
      width: 20px;
      height: 20px;
      border: 2.5px solid rgba(255,255,255,0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      TOGGLE MODE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .toggle-mode {
      text-align: center;
      margin-top: 24px;
      font-size: 0.95rem;
      color: var(--gray-600);
    }

    .toggle-mode a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      margin-left: 4px;
      transition: color 0.2s;
    }

    .toggle-mode a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      RESEND VERIFICATION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .resend-section {
      display: none;
      text-align: center;
      margin-top: 20px;
      padding: 20px;
      background: var(--gray-50);
      border-radius: var(--radius);
      border: 1px solid var(--gray-200);
    }

    .resend-section.visible {
      display: block;
      animation: slideIn 0.3s ease;
    }

    .resend-section p {
      font-size: 0.9rem;
      color: var(--gray-600);
      margin-bottom: 12px;
    }

    .resend-btn {
      background: none;
      border: none;
      color: var(--primary);
      font-weight: 600;
      cursor: pointer;
      font-size: 0.9rem;
      font-family: inherit;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .resend-btn:hover {
      background: rgba(234, 88, 12, 0.1);
    }

    .resend-btn:disabled {
      color: var(--gray-400);
      cursor: not-allowed;
      background: none;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      SECURITY BADGE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .security-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 24px;
      font-size: 0.8rem;
      color: var(--gray-400);
    }

    .security-badge svg {
      width: 14px;
      height: 14px;
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      FOOTER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .card-footer {
      background: var(--gray-50);
      padding: 20px 40px;
      text-align: center;
      border-top: 1px solid var(--gray-100);
    }

    .card-footer p {
      font-size: 0.8rem;
      color: var(--gray-500);
    }

    .card-footer a {
      color: var(--gray-600);
      text-decoration: none;
      margin: 0 4px;
    }

    .card-footer a:hover {
      color: var(--primary);
    }

    /*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      ANIMATIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/
    .fade-in {
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>

  <!-- Background Decorations -->
  <div class="bg-decoration bg-pattern"></div>
  <div class="bg-decoration bg-circle-1"></div>
  <div class="bg-decoration bg-circle-2"></div>

  <!-- Left Brand Panel (Desktop Only) -->
  <div class="brand-panel">
    <div class="brand-content">
      <div class="brand-logo">ğŸ›•</div>
      <h1 class="brand-title">à¤¬à¤¾à¤¬à¤¾ à¤¬à¤¨à¤¾à¤°à¤¸à¥€</h1>
      <p class="brand-subtitle">Experience the Soul of Varanasi on Two Wheels</p>
      
      <ul class="brand-features">
        <li>
          <span>ğŸ›µ</span>
          Authentic scooter-guided temple tours
        </li>
        <li>
          <span>ğŸ—ºï¸</span>
          13 sacred destinations in one darshan
        </li>
        <li>
          <span>ğŸ‘¨â€ğŸ«</span>
          Local guides with deep spiritual knowledge
        </li>
        <li>
          <span>ğŸ“¸</span>
          Hidden gems only locals know about
        </li>
      </ul>

      <div class="brand-testimonial">
        <p>"The most authentic way to experience Banaras. Our guide took us to places we would never have found ourselves. A truly magical and spiritual journey!"</p>
        <div class="author">
          <div class="avatar">ğŸ‘¨</div>
          <div class="author-info">
            <div class="author-name">Rahul Sharma</div>
            <div class="author-title">Verified Traveler â€¢ Delhi</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Form Panel -->
  <div class="form-panel">
    <div class="login-container fade-in">
      
      <!-- Mobile Header -->
      <div class="mobile-header">
        <div class="logo">ğŸ›•</div>
        <h1>à¤¬à¤¾à¤¬à¤¾ à¤¬à¤¨à¤¾à¤°à¤¸à¥€</h1>
        <p>Varanasi Scooter Darshan</p>
      </div>

      <!-- Login Card -->
      <div class="card">
        <div class="card-body">
          
          <!-- Form Header -->
          <div class="form-header">
            <h2 id="formTitle">Welcome Back</h2>
            <p id="formSubtitle">Sign in to continue your spiritual journey</p>
          </div>

          <!-- Alert Messages -->
          <div class="alert alert-error" id="alertError">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span id="errorText"></span>
          </div>

          <div class="alert alert-success" id="alertSuccess">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span id="successText"></span>
          </div>

          <div class="alert alert-info" id="alertInfo">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span id="infoText"></span>
          </div>

          <div class="alert alert-warning" id="alertWarning">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
            </svg>
            <span id="warningText"></span>
          </div>

          <!-- Google Sign In -->
          <div class="social-login">
            <button type="button" class="social-btn" id="googleBtn">
              <svg viewBox="0 0 24 24">
                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
              </svg>
              Continue with Google
            </button>
          </div>

          <!-- Divider -->
          <div class="divider">or continue with email</div>

          <!-- Auth Form -->
          <form id="authForm" autocomplete="on">
            
            <!-- Name Field (Signup Only) -->
            <div class="form-group name-field" id="nameField">
              <label for="name">Full Name</label>
              <div class="input-wrapper">
                <input 
                  type="text" 
                  id="name" 
                  name="name"
                  placeholder="Enter your full name"
                  autocomplete="name"
                />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
              </div>
            </div>

            <!-- Email Field -->
            <div class="form-group">
              <label for="email">Email Address</label>
              <div class="input-wrapper" id="emailWrapper">
                <input 
                  type="email" 
                  id="email" 
                  name="email"
                  placeholder="you@example.com"
                  autocomplete="email"
                  required
                />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
              </div>
            </div>

            <!-- Phone Field (Signup Only) -->
            <div class="form-group phone-field" id="phoneField">
              <label for="phone">Phone Number (Optional)</label>
              <div class="phone-wrapper">
                <select class="country-code" id="countryCode" name="countryCode">
                  <option value="+91">ğŸ‡®ğŸ‡³ +91</option>
                  <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
                  <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
                  <option value="+61">ğŸ‡¦ğŸ‡º +61</option>
                  <option value="+971">ğŸ‡¦ğŸ‡ª +971</option>
                </select>
                <input 
                  type="tel" 
                  id="phone" 
                  name="phone"
                  placeholder="79913 01043"
                  autocomplete="tel"
                />
              </div>
            </div>

            <!-- Password Field -->
            <div class="form-group">
              <label for="password">Password</label>
              <div class="input-wrapper">
                <input 
                  type="password" 
                  id="password" 
                  name="password"
                  placeholder="Enter your password"
                  autocomplete="current-password"
                  required
                />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
                <button type="button" class="password-toggle" id="togglePassword" aria-label="Toggle password visibility">
                  <svg id="eyeIcon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                  </svg>
                  <svg id="eyeOffIcon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: none;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                  </svg>
                </button>
              </div>
              
              <!-- Password Strength (Signup Only) -->
              <div class="password-strength" id="passwordStrength">
                <div class="strength-bar">
                  <div class="strength-fill" id="strengthFill"></div>
                </div>
                <span class="strength-text" id="strengthText">Password strength</span>
              </div>
            </div>

            <!-- Terms Checkbox (Signup Only) -->
            <div class="terms-field" id="termsField">
              <label class="checkbox-wrapper">
                <input type="checkbox" id="termsAgree" name="termsAgree" />
                <div class="checkbox-custom">
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="checkbox-label">
                  I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a>
                </span>
              </label>
            </div>

            <!-- Remember Me & Forgot Password (Login Only) -->
            <div class="form-options" id="formOptions">
              <label class="checkbox-wrapper">
                <input type="checkbox" id="rememberMe" name="rememberMe" />
                <div class="checkbox-custom">
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="checkbox-label">Remember me</span>
              </label>
              <a href="#" class="forgot-link" id="forgotPassword">Forgot password?</a>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="submit-btn" id="submitBtn">
              <span class="btn-content" id="btnContent">
                <span id="btnText">Sign In</span>
              </span>
            </button>
          </form>

          <!-- Resend Verification Email Section -->
          <div class="resend-section" id="resendSection">
            <p>ğŸ“§ Didn't receive the verification email?</p>
            <button type="button" class="resend-btn" id="resendBtn">Resend Verification Email</button>
          </div>

          <!-- Toggle Login/Signup -->
          <div class="toggle-mode">
            <span id="toggleText">Don't have an account?</span>
            <a href="#" id="toggleLink">Create one</a>
          </div>

          <!-- Security Badge -->
          <div class="security-badge">
            <svg fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
            </svg>
            Secured with 256-bit SSL encryption
          </div>
        </div>

        <!-- Footer -->
        <div class="card-footer">
          <p>Â© 2024 Baba Banarasi. <a href="#">Help</a> â€¢ <a href="#">Privacy</a> â€¢ <a href="#">Terms</a></p>
        </div>
      </div>
    </div>
  </div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FIREBASE & AUTH SCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { 
  getAuth,
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  signInWithPopup,
  GoogleAuthProvider,
  sendPasswordResetEmail,
  sendEmailVerification,
  updateProfile,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { 
  getFirestore,
  doc,
  setDoc
} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ”¥ FIREBASE CONFIGURATION                                                â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const firebaseConfig = {
  apiKey: "AIzaSyCtyR68dG9TEI_C89PvsdrGmpkE6vCtV0s",
  authDomain: "varanasi-scoot-darshan.firebaseapp.com",
  projectId: "varanasi-scoot-darshan",
  storageBucket: "varanasi-scoot-darshan.firebasestorage.app",
  messagingSenderId: "437910870938",
  appId: "1:437910870938:web:cb7b3043bcc39216143823"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const googleProvider = new GoogleAuthProvider();
googleProvider.setCustomParameters({ prompt: 'select_account' });

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ‘‘ ROLE CONFIGURATION - YOUR ADMIN/MANAGER EMAILS                        â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const STAFF_ROLES = {
  super_admin: [
    'shivampandit2006@gmail.com',
  ],
  
  admin: [
    'aruneshsinghrajawat@gmail.com',
  ],
  
  manager: [
    'anshumanjha3333@gmail.com',
  ]
};

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ”— REDIRECT URLS FOR EACH ROLE                                           â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const REDIRECT_URLS = {
  super_admin: '/dashboard/admin.html',
  admin: '/dashboard/admin.html',
  manager: '/dashboard/manager.html',
  user: '/index.html'
};

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ“¦ STATE & DOM ELEMENTS                                                  â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let isLoginMode = true;
let isLoading = false;
let currentUser = null;

const $ = id => document.getElementById(id);

const el = {
  form: $('authForm'),
  email: $('email'),
  password: $('password'),
  name: $('name'),
  phone: $('phone'),
  countryCode: $('countryCode'),
  submitBtn: $('submitBtn'),
  btnContent: $('btnContent'),
  googleBtn: $('googleBtn'),
  toggleLink: $('toggleLink'),
  toggleText: $('toggleText'),
  formTitle: $('formTitle'),
  formSubtitle: $('formSubtitle'),
  alertError: $('alertError'),
  alertSuccess: $('alertSuccess'),
  alertInfo: $('alertInfo'),
  alertWarning: $('alertWarning'),
  errorText: $('errorText'),
  successText: $('successText'),
  infoText: $('infoText'),
  warningText: $('warningText'),
  togglePassword: $('togglePassword'),
  eyeIcon: $('eyeIcon'),
  eyeOffIcon: $('eyeOffIcon'),
  nameField: $('nameField'),
  phoneField: $('phoneField'),
  termsField: $('termsField'),
  termsAgree: $('termsAgree'),
  formOptions: $('formOptions'),
  passwordStrength: $('passwordStrength'),
  strengthFill: $('strengthFill'),
  strengthText: $('strengthText'),
  emailWrapper: $('emailWrapper'),
  forgotPassword: $('forgotPassword'),
  rememberMe: $('rememberMe'),
  resendSection: $('resendSection'),
  resendBtn: $('resendBtn')
};

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ¯ GET USER ROLE BY EMAIL                                                â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getRoleByEmail(email) {
  if (!email) return 'user';
  
  const lowerEmail = email.toLowerCase().trim();
  
  for (const [role, emails] of Object.entries(STAFF_ROLES)) {
    const lowerEmails = emails.map(e => e.toLowerCase().trim());
    if (lowerEmails.includes(lowerEmail)) {
      console.log(`âœ… STAFF DETECTED: ${email} â†’ ${role.toUpperCase()}`);
      return role;
    }
  }
  
  console.log(`ğŸ‘¤ REGULAR USER: ${email}`);
  return 'user';
}

function getRedirectUrl(role) {
  return REDIRECT_URLS[role] || '/index.html';
}

function isStaffMember(role) {
  return ['super_admin', 'admin', 'manager'].includes(role);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ¨ UI HELPER FUNCTIONS                                                   â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function showAlert(type, message, duration = 10000) {
  hideAlerts();
  
  const alertMap = {
    error: { el: el.alertError, text: el.errorText },
    success: { el: el.alertSuccess, text: el.successText },
    info: { el: el.alertInfo, text: el.infoText },
    warning: { el: el.alertWarning, text: el.warningText }
  };
  
  const alert = alertMap[type];
  if (alert && alert.el && alert.text) {
    alert.text.textContent = message;
    alert.el.classList.add('visible');
    
    if (duration > 0) {
      setTimeout(hideAlerts, duration);
    }
  }
}

function hideAlerts() {
  el.alertError?.classList.remove('visible');
  el.alertSuccess?.classList.remove('visible');
  el.alertInfo?.classList.remove('visible');
  el.alertWarning?.classList.remove('visible');
}

function setLoading(loading) {
  isLoading = loading;
  el.submitBtn.disabled = loading;
  el.googleBtn.disabled = loading;
  
  if (loading) {
    el.btnContent.innerHTML = `
      <div class="btn-spinner"></div>
      <span>${isLoginMode ? 'Signing in...' : 'Creating account...'}</span>
    `;
    el.googleBtn.style.opacity = '0.6';
    el.googleBtn.style.cursor = 'not-allowed';
  } else {
    el.btnContent.innerHTML = `<span>${isLoginMode ? 'Sign In' : 'Create Account'}</span>`;
    el.googleBtn.style.opacity = '1';
    el.googleBtn.style.cursor = 'pointer';
  }
}

function toggleMode() {
  isLoginMode = !isLoginMode;
  hideAlerts();
  el.form.reset();
  el.resendSection.classList.remove('visible');
  
  if (isLoginMode) {
    el.formTitle.textContent = 'Welcome Back';
    el.formSubtitle.textContent = 'Sign in to continue your spiritual journey';
    el.btnContent.innerHTML = '<span>Sign In</span>';
    el.toggleText.textContent = "Don't have an account?";
    el.toggleLink.textContent = 'Create one';
    el.nameField.classList.remove('visible');
    el.phoneField.classList.remove('visible');
    el.termsField.classList.remove('visible');
    el.formOptions.style.display = 'flex';
    el.passwordStrength.classList.remove('visible');
    el.password.setAttribute('autocomplete', 'current-password');
  } else {
    el.formTitle.textContent = 'Create Account';
    el.formSubtitle.textContent = 'Join thousands of happy travelers';
    el.btnContent.innerHTML = '<span>Create Account</span>';
    el.toggleText.textContent = 'Already have an account?';
    el.toggleLink.textContent = 'Sign in';
    el.nameField.classList.add('visible');
    el.phoneField.classList.add('visible');
    el.termsField.classList.add('visible');
    el.formOptions.style.display = 'none';
    el.passwordStrength.classList.add('visible');
    el.password.setAttribute('autocomplete', 'new-password');
  }
}

function togglePasswordVisibility() {
  const type = el.password.type === 'password' ? 'text' : 'password';
  el.password.type = type;
  el.eyeIcon.style.display = type === 'text' ? 'none' : 'block';
  el.eyeOffIcon.style.display = type === 'text' ? 'block' : 'none';
}

function checkPasswordStrength(password) {
  let strength = 0;
  if (password.length >= 6) strength++;
  if (password.length >= 10) strength++;
  if (/[A-Z]/.test(password)) strength++;
  if (/[0-9]/.test(password)) strength++;
  if (/[^A-Za-z0-9]/.test(password)) strength++;
  
  el.strengthFill.className = 'strength-fill';
  el.strengthText.className = 'strength-text';
  
  if (password.length === 0) {
    el.strengthText.textContent = 'Password strength';
  } else if (strength <= 2) {
    el.strengthFill.classList.add('weak');
    el.strengthText.classList.add('weak');
    el.strengthText.textContent = 'Weak - Add uppercase, numbers & symbols';
  } else if (strength <= 3) {
    el.strengthFill.classList.add('medium');
    el.strengthText.classList.add('medium');
    el.strengthText.textContent = 'Medium - Getting better!';
  } else {
    el.strengthFill.classList.add('strong');
    el.strengthText.classList.add('strong');
    el.strengthText.textContent = 'Strong password âœ“';
  }
}

function validateEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function getErrorMessage(code) {
  const messages = {
    'auth/invalid-email': 'Please enter a valid email address',
    'auth/user-disabled': 'This account has been disabled. Contact support.',
    'auth/user-not-found': 'No account found with this email',
    'auth/wrong-password': 'Incorrect password. Try again or reset it.',
    'auth/invalid-credential': 'Invalid email or password. Please try again.',
    'auth/email-already-in-use': 'An account already exists with this email. Try signing in.',
    'auth/weak-password': 'Password should be at least 6 characters',
    'auth/network-request-failed': 'Network error. Please check your connection.',
    'auth/too-many-requests': 'Too many failed attempts. Please try again later.',
    'auth/popup-closed-by-user': 'Sign-in was cancelled',
    'auth/popup-blocked': 'Popup was blocked. Please allow popups for this site.',
    'auth/operation-not-allowed': 'This sign-in method is not enabled.',
    'auth/requires-recent-login': 'Please sign in again to continue.'
  };
  return messages[code] || `Error: ${code}`;
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ’¾ SAVE USER TO FIRESTORE                                                â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function saveUserToFirestore(user, role, additionalData = {}) {
  try {
    const userRef = doc(db, 'users', user.uid);
    await setDoc(userRef, {
      uid: user.uid,
      email: user.email,
      displayName: user.displayName || additionalData.displayName || '',
      photoURL: user.photoURL || '',
      phone: additionalData.phone || null,
      role: role,
      emailVerified: user.emailVerified,
      provider: additionalData.provider || 'email',
      lastLogin: new Date().toISOString(),
      updatedAt: new Date().toISOString(),
      ...(!additionalData.isExisting && { createdAt: new Date().toISOString() })
    }, { merge: true });
    
    console.log('âœ… User saved to Firestore');
  } catch (error) {
    console.error('âš ï¸ Firestore save error (non-critical):', error.message);
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ“§ SEND VERIFICATION EMAIL                                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function sendVerificationEmailToUser(user) {
  try {
    const actionCodeSettings = {
      url: window.location.origin + '/login.html?verified=true',
      handleCodeInApp: false
    };
    
    await sendEmailVerification(user, actionCodeSettings);
    console.log('ğŸ“§ Verification email sent to:', user.email);
    return true;
  } catch (error) {
    console.error('âŒ Failed to send verification email:', error);
    throw error;
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸš€ REDIRECT USER BASED ON ROLE                                           â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function redirectUser(role, displayName) {
  const url = getRedirectUrl(role);
  const roleLabels = {
    super_admin: 'ğŸ‘‘ Super Admin',
    admin: 'ğŸ” Admin',
    manager: 'ğŸ“Š Manager',
    user: 'ğŸ  Home'
  };
  
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log(`ğŸš€ REDIRECTING: ${displayName}`);
  console.log(`   Role: ${roleLabels[role] || role}`);
  console.log(`   URL: ${url}`);
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  
  showAlert('success', `Welcome, ${displayName}! Redirecting to ${roleLabels[role] || 'dashboard'}...`, 0);
  
  setTimeout(() => {
    window.location.href = url;
  }, 1200);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ” PROCESS AUTHENTICATED USER                                            â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function processAuthenticatedUser(user, additionalData = {}) {
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('ğŸ‘¤ Processing user:', user.email);
  
  const role = getRoleByEmail(user.email);
  const displayName = user.displayName || additionalData.displayName || user.email.split('@')[0];
  
  // Save user data (non-blocking)
  saveUserToFirestore(user, role, { ...additionalData, isExisting: true });
  
  // Staff members: Redirect immediately (no email verification needed)
  if (isStaffMember(role)) {
    console.log('ğŸ” Staff member - bypassing email verification');
    redirectUser(role, displayName);
    return;
  }
  
  // Regular users: Check email verification
  if (!user.emailVerified) {
    console.log('ğŸ“§ Email not verified - showing verification prompt');
    currentUser = user;
    
    showAlert('warning', 'Please verify your email to continue. Check your inbox (and spam folder)!', 0);
    el.resendSection.classList.add('visible');
    setLoading(false);
    return;
  }
  
  // Email verified - redirect to home
  console.log('âœ… Email verified - redirecting to home');
  redirectUser('user', displayName);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ“ SIGNUP HANDLER                                                        â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleSignup(email, password, name, phone) {
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('ğŸ“ SIGNUP:', email);
  
  const userCredential = await createUserWithEmailAndPassword(auth, email, password);
  const user = userCredential.user;
  
  // Update profile with name
  await updateProfile(user, { displayName: name });
  
  // Get role
  const role = getRoleByEmail(email);
  
  // Save to Firestore
  await saveUserToFirestore(user, role, {
    displayName: name,
    phone: phone,
    provider: 'email'
  });
  
  // Staff: Redirect directly
  if (isStaffMember(role)) {
    console.log('ğŸ” Staff account created - redirecting');
    redirectUser(role, name);
    return;
  }
  
  // Regular user: Send verification email
  console.log('ğŸ“§ Sending verification email...');
  await sendVerificationEmailToUser(user);
  
  currentUser = user;
  showAlert('success', `Account created! Verification email sent to ${email}. Please check your inbox.`, 0);
  el.resendSection.classList.add('visible');
  setLoading(false);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ” LOGIN HANDLER                                                         â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleLogin(email, password) {
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('ğŸ” LOGIN:', email);
  
  const userCredential = await signInWithEmailAndPassword(auth, email, password);
  const user = userCredential.user;
  
  // Reload to get latest emailVerified status
  await user.reload();
  
  // Remember me
  if (el.rememberMe?.checked) {
    localStorage.setItem('rememberedEmail', email);
  } else {
    localStorage.removeItem('rememberedEmail');
  }
  
  await processAuthenticatedUser(user);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ”µ GOOGLE SIGN-IN HANDLER                                                â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleGoogleSignIn() {
  if (isLoading) return;
  
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('ğŸ”µ GOOGLE SIGN-IN');
  
  hideAlerts();
  setLoading(true);
  
  try {
    const result = await signInWithPopup(auth, googleProvider);
    const user = result.user;
    
    console.log('âœ… Google sign-in successful:', user.email);
    
    // Google accounts are pre-verified
    await processAuthenticatedUser(user, { provider: 'google' });
    
  } catch (error) {
    console.error('âŒ Google sign-in error:', error.code);
    
    if (error.code === 'auth/popup-closed-by-user') {
      showAlert('info', 'Sign-in cancelled. Try again when ready.');
    } else if (error.code === 'auth/popup-blocked') {
      showAlert('warning', 'Popup was blocked. Please allow popups for this site.');
    } else {
      showAlert('error', getErrorMessage(error.code));
    }
    setLoading(false);
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ“‹ FORM SUBMIT HANDLER                                                   â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleSubmit(e) {
  e.preventDefault();
  if (isLoading) return;
  
  const email = el.email.value.trim();
  const password = el.password.value;
  const name = el.name?.value.trim() || '';
  const phone = el.phone?.value.trim() || '';
  const countryCode = el.countryCode?.value || '+91';
  
  // Validation
  if (!validateEmail(email)) {
    el.emailWrapper.classList.add('error');
    showAlert('error', 'Please enter a valid email address');
    return;
  }
  el.emailWrapper.classList.remove('error');
  
  if (password.length < 6) {
    showAlert('error', 'Password must be at least 6 characters');
    return;
  }
  
  if (!isLoginMode) {
    if (!name) {
      showAlert('error', 'Please enter your full name');
      return;
    }
    if (!el.termsAgree.checked) {
      showAlert('error', 'Please agree to the Terms of Service');
      return;
    }
  }
  
  hideAlerts();
  setLoading(true);
  el.resendSection.classList.remove('visible');
  
  try {
    if (isLoginMode) {
      await handleLogin(email, password);
    } else {
      const fullPhone = phone ? `${countryCode}${phone.replace(/\s/g, '')}` : null;
      await handleSignup(email, password, name, fullPhone);
    }
  } catch (error) {
    console.error('âŒ Auth error:', error.code, error.message);
    showAlert('error', getErrorMessage(error.code));
    setLoading(false);
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ” RESEND VERIFICATION EMAIL                                             â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleResendVerification() {
  if (!currentUser) {
    showAlert('error', 'Please sign in again to resend verification email');
    return;
  }
  
  el.resendBtn.disabled = true;
  el.resendBtn.textContent = 'Sending...';
  
  try {
    await sendVerificationEmailToUser(currentUser);
    showAlert('success', 'Verification email sent! Check your inbox and spam folder.');
    
    // Cooldown timer
    let countdown = 60;
    const interval = setInterval(() => {
      countdown--;
      el.resendBtn.textContent = `Resend in ${countdown}s`;
      
      if (countdown <= 0) {
        clearInterval(interval);
        el.resendBtn.disabled = false;
        el.resendBtn.textContent = 'Resend Verification Email';
      }
    }, 1000);
    
  } catch (error) {
    console.error('Resend error:', error);
    
    if (error.code === 'auth/too-many-requests') {
      showAlert('error', 'Too many attempts. Please wait a few minutes.');
    } else {
      showAlert('error', 'Failed to send email. Please try again.');
    }
    
    el.resendBtn.disabled = false;
    el.resendBtn.textContent = 'Resend Verification Email';
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ”‘ FORGOT PASSWORD HANDLER                                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function handleForgotPassword(e) {
  e.preventDefault();
  
  const email = el.email.value.trim();
  
  if (!email) {
    showAlert('info', 'Enter your email address above, then click "Forgot password?"');
    el.email.focus();
    return;
  }
  
  if (!validateEmail(email)) {
    showAlert('error', 'Please enter a valid email address');
    return;
  }
  
  try {
    await sendPasswordResetEmail(auth, email);
    showAlert('success', `Password reset email sent to ${email}. Check your inbox!`);
  } catch (error) {
    console.error('Password reset error:', error);
    
    if (error.code === 'auth/user-not-found') {
      showAlert('error', 'No account found with this email address');
    } else {
      showAlert('error', getErrorMessage(error.code));
    }
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ”„ CHECK IF USER RETURNED FROM EMAIL VERIFICATION                        â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function checkVerificationReturn() {
  const urlParams = new URLSearchParams(window.location.search);
  
  if (urlParams.get('verified') === 'true') {
    showAlert('success', 'âœ… Email verified successfully! Please sign in to continue.');
    window.history.replaceState({}, document.title, '/login.html');
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸ§ EVENT LISTENERS                                                       â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

el.form.addEventListener('submit', handleSubmit);
el.googleBtn.addEventListener('click', handleGoogleSignIn);
el.toggleLink.addEventListener('click', e => { e.preventDefault(); toggleMode(); });
el.togglePassword.addEventListener('click', togglePasswordVisibility);
el.password.addEventListener('input', () => { if (!isLoginMode) checkPasswordStrength(el.password.value); });
el.email.addEventListener('focus', () => el.emailWrapper.classList.remove('error'));
el.email.addEventListener('keypress', e => { if (e.key === 'Enter') el.password.focus(); });
el.forgotPassword.addEventListener('click', handleForgotPassword);
el.resendBtn.addEventListener('click', handleResendVerification);

// Load remembered email
const rememberedEmail = localStorage.getItem('rememberedEmail');
if (rememberedEmail) {
  el.email.value = rememberedEmail;
  el.rememberMe.checked = true;
}

// Check if returning from email verification
checkVerificationReturn();

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  ğŸš€ INITIALIZATION LOG                                                    â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log('');
console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
console.log('â•‘  ğŸ›• BABA BANARASI LOGIN SYSTEM - INITIALIZED                  â•‘');
console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');
console.log('â•‘  STAFF EMAILS CONFIGURED:                                     â•‘');
console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');
console.log('â•‘  ğŸ‘‘ SUPER ADMIN:                                              â•‘');
STAFF_ROLES.super_admin.forEach(email => console.log(`â•‘     â†’ ${email}`));
console.log('â•‘                                                               â•‘');
console.log('â•‘  ğŸ” ADMIN:                                                    â•‘');
STAFF_ROLES.admin.forEach(email => console.log(`â•‘     â†’ ${email}`));
console.log('â•‘                                                               â•‘');
console.log('â•‘  ğŸ“Š MANAGER:                                                  â•‘');
STAFF_ROLES.manager.forEach(email => console.log(`â•‘     â†’ ${email}`));
console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');
console.log('â•‘  REDIRECTS:                                                   â•‘');
console.log('â•‘     Super Admin â†’ /dashboard/admin.html                       â•‘');
console.log('â•‘     Admin       â†’ /dashboard/admin.html                       â•‘');
console.log('â•‘     Manager     â†’ /dashboard/manager.html                     â•‘');
console.log('â•‘     User        â†’ /index.html (after email verification)     â•‘');
console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('');
</script>

</body>
</html>
