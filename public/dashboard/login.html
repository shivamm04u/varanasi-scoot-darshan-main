<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login | Baba Banarasi - Varanasi Scooter Darshan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Login to your Baba Banarasi account to manage your Varanasi darshan bookings" />
  <meta name="theme-color" content="#EA580C" />
  
  <!-- Favicon (Updated to match your site) -->
  <link rel="icon" type="image/png" href="/logo.png" />
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Devanagari:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /*‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      BASE STYLES
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê*/
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #EA580C; --primary-dark: #C2410C; --primary-light: #FDBA74; --primary-50: #FFF7ED;
      --success: #16A34A; --success-bg: #F0FDF4; --error: #DC2626; --error-bg: #FEF2F2;
      --warning: #D97706; --warning-bg: #FFFBEB; --info: #2563EB; --info-bg: #EFF6FF;
      --gray-50: #F9FAFB; --gray-100: #F3F4F6; --gray-200: #E5E7EB; --gray-300: #D1D5DB;
      --gray-400: #9CA3AF; --gray-500: #6B7280; --gray-600: #4B5563; --gray-700: #374151;
      --gray-800: #1F2937; --gray-900: #111827;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      --radius: 12px; --radius-lg: 16px; --radius-xl: 24px;
    }

    body {
      font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #FFF7ED 0%, #FFEDD5 50%, #FED7AA 100%);
      min-height: 100vh; display: flex; line-height: 1.6; color: var(--gray-800);
      -webkit-font-smoothing: antialiased;
    }

    /* BACKGROUND DECORATIONS */
    .bg-decoration { position: fixed; pointer-events: none; z-index: 0; }
    .bg-circle-1 { top: -150px; right: -150px; width: 400px; height: 400px; background: radial-gradient(circle, rgba(234, 88, 12, 0.12) 0%, transparent 70%); border-radius: 50%; }
    .bg-circle-2 { bottom: -200px; left: -200px; width: 500px; height: 500px; background: radial-gradient(circle, rgba(234, 88, 12, 0.08) 0%, transparent 70%); border-radius: 50%; }
    .bg-pattern { top: 0; left: 0; right: 0; bottom: 0; background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23EA580C' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }

    /* LEFT BRAND PANEL */
    .brand-panel { display: none; width: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 60px; position: relative; overflow: hidden; }
    @media (min-width: 1024px) { .brand-panel { display: flex; flex-direction: column; justify-content: center; } }
    .brand-panel::before { content: ''; position: absolute; inset: 0; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90' opacity='0.05'%3EüïâÔ∏è%3C/text%3E%3C/svg%3E"); background-size: 200px; opacity: 0.4; }
    .brand-content { position: relative; z-index: 1; color: white; }
    .brand-logo { font-size: 4rem; margin-bottom: 20px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2)); }
    .brand-title { font-family: 'Noto Sans Devanagari', 'Poppins', sans-serif; font-size: 2.75rem; font-weight: 700; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
    .brand-subtitle { font-size: 1.2rem; opacity: 0.95; margin-bottom: 50px; font-weight: 300; }
    .brand-features { list-style: none; }
    .brand-features li { display: flex; align-items: center; gap: 16px; padding: 14px 0; font-size: 1rem; opacity: 0.95; border-bottom: 1px solid rgba(255,255,255,0.1); }
    .brand-features li:last-child { border-bottom: none; }
    .brand-features li span { font-size: 1.5rem; width: 40px; height: 40px; background: rgba(255,255,255,0.15); border-radius: 10px; display: flex; align-items: center; justify-content: center; }
    .brand-testimonial { margin-top: 50px; padding: 28px; background: rgba(255, 255, 255, 0.12); border-radius: var(--radius-lg); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
    .brand-testimonial p { font-style: italic; line-height: 1.7; margin-bottom: 18px; font-size: 0.95rem; }
    .brand-testimonial .author { display: flex; align-items: center; gap: 14px; }
    .brand-testimonial .avatar { width: 48px; height: 48px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; }
    .brand-testimonial .author-info { font-size: 0.9rem; }
    .brand-testimonial .author-name { font-weight: 600; }
    .brand-testimonial .author-title { opacity: 0.75; font-size: 0.8rem; }

    /* RIGHT FORM PANEL */
    .form-panel { flex: 1; display: flex; align-items: center; justify-content: center; padding: 40px 20px; position: relative; z-index: 1; }
    .login-container { width: 100%; max-width: 450px; }

    /* MOBILE HEADER */
    .mobile-header { text-align: center; margin-bottom: 30px; }
    @media (min-width: 1024px) { .mobile-header { display: none; } }
    .mobile-header .logo { font-size: 3.5rem; margin-bottom: 10px; }
    .mobile-header h1 { font-family: 'Noto Sans Devanagari', 'Poppins', sans-serif; font-size: 1.85rem; color: var(--primary); font-weight: 700; }
    .mobile-header p { color: var(--gray-600); font-size: 0.9rem; margin-top: 4px; }

    /* CARD */
    .card { background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-xl); overflow: hidden; }
    .card-body { padding: 40px; }
    @media (max-width: 480px) { .card-body { padding: 32px 24px; } }

    /* FORM HEADER */
    .form-header { text-align: center; margin-bottom: 32px; }
    .form-header h2 { font-size: 1.75rem; font-weight: 600; color: var(--gray-900); margin-bottom: 8px; }
    .form-header p { color: var(--gray-500); font-size: 0.95rem; }

    /* ALERTS */
    .alert { display: none; align-items: flex-start; gap: 12px; padding: 16px; border-radius: var(--radius); margin-bottom: 20px; font-size: 0.9rem; line-height: 1.5; animation: slideIn 0.3s ease; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    .alert.visible { display: flex; }
    .alert svg { width: 20px; height: 20px; flex-shrink: 0; margin-top: 2px; }
    .alert-error { background: var(--error-bg); border: 1px solid #FECACA; color: var(--error); }
    .alert-success { background: var(--success-bg); border: 1px solid #BBF7D0; color: var(--success); }
    .alert-info { background: var(--info-bg); border: 1px solid #BFDBFE; color: var(--info); }
    .alert-warning { background: var(--warning-bg); border: 1px solid #FDE68A; color: var(--warning); }

    /* SOCIAL LOGIN */
    .social-login { display: flex; gap: 12px; margin-bottom: 24px; }
    .social-btn { flex: 1; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 14px 20px; border: 1.5px solid var(--gray-200); border-radius: var(--radius); background: white; color: var(--gray-700); font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; font-family: inherit; }
    .social-btn:hover { border-color: var(--gray-300); background: var(--gray-50); transform: translateY(-1px); box-shadow: var(--shadow); }
    .social-btn:active { transform: translateY(0); }
    .social-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
    .social-btn svg { width: 20px; height: 20px; }

    /* DIVIDER */
    .divider { display: flex; align-items: center; gap: 16px; margin: 24px 0; color: var(--gray-400); font-size: 0.85rem; }
    .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--gray-200); }

    /* FORM ELEMENTS */
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-size: 0.9rem; font-weight: 500; color: var(--gray-700); }
    .input-wrapper { position: relative; }
    .input-wrapper .icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--gray-400); pointer-events: none; transition: color 0.2s; }
    .input-wrapper input { width: 100%; padding: 14px 16px 14px 48px; border: 1.5px solid var(--gray-200); border-radius: var(--radius); font-size: 1rem; font-family: inherit; color: var(--gray-900); background: white; transition: all 0.2s ease; }
    .input-wrapper input::placeholder { color: var(--gray-400); }
    .input-wrapper input:hover { border-color: var(--gray-300); }
    .input-wrapper input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(234, 88, 12, 0.1); }
    .input-wrapper input:focus + .icon, .input-wrapper input:focus ~ .icon { color: var(--primary); }
    .input-wrapper.error input { border-color: var(--error); background: var(--error-bg); }

    /* PASSWORD TOGGLE & STRENGTH */
    .password-toggle { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray-400); cursor: pointer; padding: 4px; display: flex; align-items: center; justify-content: center; transition: color 0.2s; }
    .password-toggle:hover { color: var(--gray-600); }
    .password-strength { margin-top: 10px; display: none; }
    .password-strength.visible { display: block; }
    .strength-bar { height: 4px; background: var(--gray-200); border-radius: 2px; overflow: hidden; margin-bottom: 6px; }
    .strength-fill { height: 100%; width: 0%; transition: all 0.3s ease; border-radius: 2px; }
    .strength-fill.weak { width: 33%; background: var(--error); }
    .strength-fill.medium { width: 66%; background: var(--warning); }
    .strength-fill.strong { width: 100%; background: var(--success); }
    .strength-text { font-size: 0.75rem; color: var(--gray-500); }
    .strength-text.weak { color: var(--error); }
    .strength-text.medium { color: var(--warning); }
    .strength-text.strong { color: var(--success); }

    /* CHECKBOX & OPTIONS */
    .form-options { display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px; flex-wrap: wrap; gap: 10px; }
    .checkbox-wrapper { display: flex; align-items: center; gap: 10px; cursor: pointer; }
    .checkbox-wrapper input[type="checkbox"] { display: none; }
    .checkbox-custom { width: 20px; height: 20px; border: 2px solid var(--gray-300); border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; flex-shrink: 0; }
    .checkbox-custom svg { width: 12px; height: 12px; color: white; opacity: 0; transform: scale(0.5); transition: all 0.2s ease; }
    .checkbox-wrapper input:checked + .checkbox-custom { background: var(--primary); border-color: var(--primary); }
    .checkbox-wrapper input:checked + .checkbox-custom svg { opacity: 1; transform: scale(1); }
    .checkbox-label { font-size: 0.9rem; color: var(--gray-600); }
    .forgot-link { font-size: 0.9rem; color: var(--primary); text-decoration: none; font-weight: 500; transition: color 0.2s; }
    .forgot-link:hover { color: var(--primary-dark); text-decoration: underline; }

    /* HIDDEN FIELDS */
    .name-field, .phone-field, .terms-field { display: none; }
    .name-field.visible, .phone-field.visible, .terms-field.visible { display: block; }
    .terms-field { margin-bottom: 20px; }
    .terms-field .checkbox-label { font-size: 0.85rem; }
    .terms-field a { color: var(--primary); text-decoration: none; }
    .terms-field a:hover { text-decoration: underline; }

    /* PHONE INPUT */
    .phone-wrapper { display: flex; gap: 10px; }
    .country-code { width: 100px; padding: 14px 12px; border: 1.5px solid var(--gray-200); border-radius: var(--radius); font-size: 0.95rem; color: var(--gray-700); background: var(--gray-50); cursor: pointer; font-family: inherit; transition: border-color 0.2s; }
    .country-code:focus { outline: none; border-color: var(--primary); }
    .phone-wrapper input { flex: 1; padding: 14px 16px; border: 1.5px solid var(--gray-200); border-radius: var(--radius); font-size: 1rem; font-family: inherit; color: var(--gray-900); transition: all 0.2s; }
    .phone-wrapper input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(234, 88, 12, 0.1); }

    /* SUBMIT BUTTON */
    .submit-btn { width: 100%; padding: 16px 24px; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; font-family: inherit; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; }
    .submit-btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.5s ease; }
    .submit-btn:hover::before { left: 100%; }
    .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(234, 88, 12, 0.35); }
    .submit-btn:active { transform: translateY(0); }
    .submit-btn:disabled { background: var(--gray-300); cursor: not-allowed; transform: none; box-shadow: none; }
    .btn-content { display: flex; align-items: center; justify-content: center; gap: 10px; }
    .btn-spinner { width: 20px; height: 20px; border: 2.5px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 0.8s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* TOGGLE MODE */
    .toggle-mode { text-align: center; margin-top: 24px; font-size: 0.95rem; color: var(--gray-600); }
    .toggle-mode a { color: var(--primary); text-decoration: none; font-weight: 600; margin-left: 4px; transition: color 0.2s; }
    .toggle-mode a:hover { color: var(--primary-dark); text-decoration: underline; }

    /* RESEND VERIFICATION */
    .resend-section { display: none; text-align: center; margin-top: 20px; padding: 20px; background: var(--gray-50); border-radius: var(--radius); border: 1px solid var(--gray-200); }
    .resend-section.visible { display: block; animation: slideIn 0.3s ease; }
    .resend-btn { background: none; border: none; color: var(--primary); font-weight: 600; cursor: pointer; font-size: 0.9rem; font-family: inherit; padding: 8px 16px; border-radius: 8px; transition: all 0.2s; }
    .resend-btn:hover { background: rgba(234, 88, 12, 0.1); }
    
    /* SECURITY BADGE */
    .security-badge { display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 24px; font-size: 0.8rem; color: var(--gray-400); }
    .security-badge svg { width: 14px; height: 14px; }

    /* FOOTER */
    .card-footer { background: var(--gray-50); padding: 20px 40px; text-align: center; border-top: 1px solid var(--gray-100); }
    .card-footer p { font-size: 0.8rem; color: var(--gray-500); }
    .card-footer a { color: var(--gray-600); text-decoration: none; margin: 0 4px; }
    .card-footer a:hover { color: var(--primary); }

    /* ANIMATIONS */
    .fade-in { animation: fadeIn 0.5s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>

  <!-- Background Decorations -->
  <div class="bg-decoration bg-pattern"></div>
  <div class="bg-decoration bg-circle-1"></div>
  <div class="bg-decoration bg-circle-2"></div>

  <!-- Left Brand Panel -->
  <div class="brand-panel">
    <div class="brand-content">
      <div class="brand-logo">üõï</div>
      <h1 class="brand-title">‡§¨‡§æ‡§¨‡§æ ‡§¨‡§®‡§æ‡§∞‡§∏‡•Ä</h1>
      <p class="brand-subtitle">Experience the Soul of Varanasi on Two Wheels</p>
      
      <ul class="brand-features">
        <li><span>üõµ</span> Authentic scooter-guided temple tours</li>
        <li><span>üó∫Ô∏è</span> 13 sacred destinations in one darshan</li>
        <li><span>üë®‚Äçüè´</span> Local guides with deep spiritual knowledge</li>
        <li><span>üì∏</span> Hidden gems only locals know about</li>
      </ul>

      <div class="brand-testimonial">
        <p>"The most authentic way to experience Banaras. Our guide took us to places we would never have found ourselves. A truly magical and spiritual journey!"</p>
        <div class="author">
          <div class="avatar">üë®</div>
          <div class="author-info">
            <div class="author-name">Rahul Sharma</div>
            <div class="author-title">Verified Traveler ‚Ä¢ Delhi</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Form Panel -->
  <div class="form-panel">
    <div class="login-container fade-in">
      
      <div class="mobile-header">
        <div class="logo">üõï</div>
        <h1>‡§¨‡§æ‡§¨‡§æ ‡§¨‡§®‡§æ‡§∞‡§∏‡•Ä</h1>
        <p>Varanasi Scooter Darshan</p>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="form-header">
            <h2 id="formTitle">Welcome Back</h2>
            <p id="formSubtitle">Sign in to continue your spiritual journey</p>
          </div>

          <!-- Alert Messages -->
          <div class="alert alert-error" id="alertError">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <span id="errorText"></span>
          </div>
          <div class="alert alert-success" id="alertSuccess">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <span id="successText"></span>
          </div>

          <!-- Google Sign In -->
          <div class="social-login">
            <button type="button" class="social-btn" id="googleBtn">
              <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
              Continue with Google
            </button>
          </div>

          <div class="divider">or continue with email</div>

          <!-- Form -->
          <form id="authForm" autocomplete="on">
            <div class="form-group name-field" id="nameField">
              <label for="name">Full Name</label>
              <div class="input-wrapper">
                <input type="text" id="name" placeholder="Enter your full name" autocomplete="name" />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
              </div>
            </div>

            <div class="form-group">
              <label for="email">Email Address</label>
              <div class="input-wrapper" id="emailWrapper">
                <input type="email" id="email" placeholder="you@example.com" autocomplete="email" required />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
              </div>
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <div class="input-wrapper">
                <input type="password" id="password" placeholder="Enter your password" autocomplete="current-password" required />
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
                <button type="button" class="password-toggle" id="togglePassword">
                  <svg id="eyeIcon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                </button>
              </div>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">
              <span class="btn-content" id="btnContent"><span>Sign In</span></span>
            </button>
          </form>

          <div class="toggle-mode">
            <span id="toggleText">Don't have an account?</span>
            <a href="#" id="toggleLink">Create one</a>
          </div>
        </div>
        
        <div class="card-footer">
          <p>¬© 2024 Baba Banarasi. <a href="#">Privacy</a> ‚Ä¢ <a href="#">Terms</a></p>
        </div>
      </div>
    </div>
  </div>

<!-- 
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ‚úÖ FIXED LOGIC (Normal Users go to Homepage / )
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, updateProfile } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCtyR68dG9TEI_C89PvsdrGmpkE6vCtV0s",
  authDomain: "varanasi-scoot-darshan.firebaseapp.com",
  projectId: "varanasi-scoot-darshan",
  storageBucket: "varanasi-scoot-darshan.firebasestorage.app",
  messagingSenderId: "437910870938",
  appId: "1:437910870938:web:cb7b3043bcc39216143823"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const googleProvider = new GoogleAuthProvider();

// STAFF EMAILS
const STAFF = {
  super_admin: ['shivampandit2006@gmail.com'],
  admin: ['aruneshsinghrajawat@gmail.com'],
  manager: ['anshumanjha3333@gmail.com']
};

let isLoginMode = true;

// UI Helpers
const $ = id => document.getElementById(id);
function showMessage(msg, type) {
  $('errorText').textContent = ''; $('successText').textContent = '';
  $('alertError').classList.remove('visible'); $('alertSuccess').classList.remove('visible');
  if(type === 'error') { $('errorText').textContent = msg; $('alertError').classList.add('visible'); }
  if(type === 'success') { $('successText').textContent = msg; $('alertSuccess').classList.add('visible'); }
}

// Redirect Logic (FIXED)
async function handleRedirect(user) {
  let role = 'user';
  if(STAFF.super_admin.includes(user.email)) role = 'super_admin';
  else if(STAFF.admin.includes(user.email)) role = 'admin';
  else if(STAFF.manager.includes(user.email)) role = 'manager';

  // Save user data
  await setDoc(doc(db, 'users', user.uid), {
    uid: user.uid,
    email: user.email,
    displayName: user.displayName || user.email.split('@')[0],
    role: role,
    lastLogin: new Date().toISOString()
  }, { merge: true });

  showMessage(`Success! Redirecting...`, 'success');

  setTimeout(() => {
    if (role === 'user') {
      window.location.href = '/'; // ‚úÖ FIX: Go to Homepage
    } else {
      window.location.href = `/dashboard/${role === 'super_admin' ? 'admin' : role}.html`;
    }
  }, 1000);
}

// Event Listeners
$('toggleLink').addEventListener('click', (e) => {
  e.preventDefault();
  isLoginMode = !isLoginMode;
  $('formTitle').textContent = isLoginMode ? 'Welcome Back' : 'Create Account';
  $('btnContent').innerHTML = `<span>${isLoginMode ? 'Sign In' : 'Create Account'}</span>`;
  $('toggleText').textContent = isLoginMode ? "Don't have an account?" : "Already have an account?";
  $('toggleLink').textContent = isLoginMode ? "Create one" : "Sign In";
  $('nameField').style.display = isLoginMode ? 'none' : 'block';
});

$('authForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const btn = $('submitBtn');
  btn.disabled = true; btn.innerHTML = '<div class="btn-spinner"></div>';
  
  const email = $('email').value;
  const password = $('password').value;
  const name = $('name').value;

  try {
    let result;
    if (isLoginMode) {
      result = await signInWithEmailAndPassword(auth, email, password);
    } else {
      result = await createUserWithEmailAndPassword(auth, email, password);
      await updateProfile(result.user, { displayName: name });
    }
    await handleRedirect(result.user);
  } catch (error) {
    showMessage(error.message.replace('Firebase:', ''), 'error');
    btn.disabled = false;
    btn.innerHTML = `<span class="btn-content"><span>${isLoginMode ? 'Sign In' : 'Create Account'}</span></span>`;
  }
});

$('googleBtn').addEventListener('click', async () => {
  try {
    const result = await signInWithPopup(auth, googleProvider);
    await handleRedirect(result.user);
  } catch (error) {
    showMessage(error.message, 'error');
  }
});
</script>
</body>
</html>
