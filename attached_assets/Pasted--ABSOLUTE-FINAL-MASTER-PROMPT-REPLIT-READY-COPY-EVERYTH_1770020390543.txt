# ğŸš€ ABSOLUTE FINAL MASTER PROMPT (REPLIT-READY)

ğŸ‘‰ **COPY EVERYTHING BELOW AND PASTE DIRECTLY INTO REPLIT AI**
ğŸ‘‰ This is the **single final prompt** that includes **EVERYTHING** we discussed.
ğŸ‘‰ It is optimized for **Firebase FREE (Spark) plan only** and **will NOT break your existing website**.

---

## ğŸ”¥ MASTER PROMPT â€” START

You are a **senior fullâ€‘stack engineer**.

### âš ï¸ CRITICAL SAFETY RULES (READ FIRST)

1. **DO NOT modify or refactor any existing files** of the current website.
2. Treat the existing site as **production & readâ€‘only**.
3. **CREATE NEW FILES ONLY** inside a new folder:

   ```
   /dashboard/
     â”œâ”€â”€ index.html
     â”œâ”€â”€ admin.html
     â””â”€â”€ manager.html
   ```
4. Use the **SAME Firebase project/config** as the main website.
5. No backend server. No Node.js. No frameworks.

---

## ğŸ¯ PROJECT OVERVIEW

Build a **standalone Authentication + Dashboard system** for a tourism booking platform:

**Website:** Varanasi Scoot Darshan (singleâ€‘state tourism)

This dashboard system is deployed separately but connected via **Firebase** to the main website.

---

## âš™ï¸ TECH STACK (FREE ONLY â€“ STRICT)

### âœ… ALLOWED

* HTML, CSS, Vanilla JavaScript
* Firebase Authentication (Email & Password â€“ FREE)
* Firebase Firestore (FREE tier optimized)
* Firebase Hosting (FREE)

### âŒ NOT ALLOWED

* Cloud Functions
* Firebase Analytics
* Firebase Extensions
* Paid Firebase features
* Backend servers
* React / Vue / frameworks

---

## ğŸ‘¥ ROLES & ACCESS CONTROL (RBAC â€“ FREE SAFE)

Roles are stored in Firestore:

```
users/{uid}
  - role: user | manager | admin | super_admin
```

### Role Rules

* user â†’ only own bookings
* manager â†’ only assigned bookings
* admin â†’ all bookings
* super_admin â†’ system owner

Role checks must be enforced in **Firestore rules + frontend logic**.

---

## ğŸ” AUTHENTICATION SYSTEM (CRITICAL)

### Signup & Signin

* Firebase Email/Password authentication
* Signup if user does not exist
* Signin if user already has account

### Auth State Handling (MANDATORY)

* Use `onAuthStateChanged()` ONLY
* No redirect screens
* No "Redirectingâ€¦" UI
* Show a **small loader only until auth state resolves**

### Behavior

#### If user is NOT logged in:

* Show SaaSâ€‘style landing page UI
* Show Login / Register buttons (modal or section)
* Booking actions require login

#### If user IS logged in:

* KEEP the same landing page UI
* Replace top buttons with:

  * My Bookings
  * Logout
* Show **userâ€‘specific dashboard section below**

---

## ğŸ¨ DESIGN REQUIREMENTS (VERY IMPORTANT)

### User Dashboard = Landing Page Style (NOT admin UI)

Inspired by **AdLinkEly / SaaS landing pages**.

Must include:

* Cloudâ€‘style top header
* Hero section
* Steps with icons:

  * Create Account
  * Book Tour
  * Enjoy Varanasi
* Why Join Us feature grid
* Stats section (tourists, bookings, tours)
* Testimonials section
* Blue/white gradient theme
* Rounded cards, shadows
* Button hover & click animations
* Fully mobileâ€‘responsive

âš ï¸ This landing UI MUST stay visible even after login.

---

## ğŸ‘¤ USER FEATURES (`dashboard/index.html`)

* Signup & Login (Firebase Auth)
* Book tour form (Firestore write)
* View ONLY own bookings
* Booking status
* Copy booking ID button with animation
* Clean cardâ€‘based UI
* Optimized Firestore reads (FREE tier)

---

## ğŸ§‘â€ğŸ’¼ ADMIN PANEL (`dashboard/admin.html`)

### Access

* Firebase login required
* Role must be `admin` or `super_admin`
* Redirect nonâ€‘admins

### Admin Dashboard UI

* Professional SaaS layout
* Top stat cards:

  * Total users
  * Total bookings
  * Active tours

### Admin Features

* View all bookings
* Assign bookings to managers
* Update booking status
* Delete / disable bookings

---

## ğŸ§‘â€ğŸ”§ MANAGER PANEL (`dashboard/manager.html`)

### Access

* Firebase login required
* Role must be `manager`

### Manager Features

* View ONLY assigned bookings
* Update booking status
* View customer contact details

---

## ğŸ—„ï¸ FIRESTORE DATABASE STRUCTURE

```
users/{uid}
  - name
  - email
  - role
  - createdAt

bookings/{bookingId}
  - userId
  - managerId
  - name
  - phone
  - tourPackage
  - date
  - status
  - createdAt
```

---

## ğŸ”’ FIRESTORE SECURITY RULES (FREE OPTIMIZED)

Rules MUST ensure:

* No unauthenticated access
* Users read only their own bookings
* Managers read only assigned bookings
* Admins read/write all bookings
* Minimal reads & writes

---

## ğŸ”§ FIREBASE INITIALIZATION RULES

* Initialize Firebase ONLY ONCE per page
* Auth listener runs AFTER initialization
* No analytics
* No preloading auth checks

---

## ğŸ”— MAIN WEBSITE CONNECTION

* Main website and dashboard use SAME Firebase project
* Bookings created on main site appear automatically in dashboards
* No backend integration required

---

## ğŸš€ DEPLOYMENT

* Use Firebase Hosting (FREE)
* No environment variables required
* Firebase config inside each HTML file

---

## ğŸ“¦ REQUIRED OUTPUT (NO EXCEPTIONS)

1. `dashboard/index.html` â€“ User landing + dashboard (FULL CODE)
2. `dashboard/admin.html` â€“ Admin panel (FULL CODE)
3. `dashboard/manager.html` â€“ Manager panel (FULL CODE)
4. Firebase FREE setup guide (stepâ€‘byâ€‘step)
5. Firestore database structure (JSON)
6. Firestore security rules (FREE optimized)

âš ï¸ No pseudoâ€‘code. No placeholders. Must be **100% working**.

Build this as a **real production system**.

## ğŸ”¥ MASTER PROMPT â€” END

---

### âœ… THIS PROMPT INCLUDES EVERYTHING

* Firebase Configuration
* Signup & Signin
* Roleâ€‘Based Authentication
* Protected Routes
* User / Manager / Admin / Super Admin dashboards
* Firestore Security Rules
* Public Booking Form compatibility
* FREEâ€‘only Firebase usage

This is the **final, complete, Replitâ€‘ready prompt**.
